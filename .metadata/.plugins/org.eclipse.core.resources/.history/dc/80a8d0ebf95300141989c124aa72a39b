package game.runner.world;

import java.util.Random;

public class Mundo {
	static final int MUNDO_ANCHO = 10;
	static final int MUNDO_ALTO = 19;

	static final int PUNTUACION_INCREMENTO = 5;

	static final float TICK_INICIAL = 2f;
	static final float TICK_DECREMENTO = 0.005f;

	//Puntos
	public int score = 0;
	
	//Verificar si ya perdi
	public boolean gameOver = false;
	
	//Manejo de tiempo
	float tick = TICK_INICIAL;
	float tickTiempo = 0f;
	
	//Grid
	boolean[][] campos = new boolean[MUNDO_ANCHO][MUNDO_ALTO];
	
	Random random = new Random();
	
	//Objetos del juego
	public Corredor corredor;
	public Obstaculo obstaculo;
	
	public Mundo(){
		corredor = new Corredor();
		colocarObstaculo();
	}
	
	private void colocarObstaculo(){
		for(int i=0;i<MUNDO_ANCHO;i++){
			for(int j=0;j<MUNDO_ALTO;j++){
				campos[i][j] = false;
			}
		}
		
/*		for(int i=0;i<snake.parts.size();i++){
			SnakePart part = snake.parts.get(i);
			fields[part.x][part.y] = true;
		}*/
		
		int stainX = random.nextInt(MUNDO_ANCHO);
		int stainY = random.nextInt(MUNDO_ALTO);
		
		//FEO, mejorar despues
		//WHILES EN MODELOS; CUIDADO MUCHO CUIDADO
		while(campos[stainX][stainY]){
			stainX = random.nextInt(MUNDO_ANCHO);
			stainY = random.nextInt(MUNDO_ALTO);
		}
		//stain = new Stain(stainX, stainY, random.nextInt());
	}
	
	public void update(float deltaTime){
		if(gameOver) return;
		
		tickTiempo += deltaTime;
		
		/*if(tickTime>tick){
			tickTime = 0;
			snake.advanced();
			if(snake.checkBitten()){
				gameOver = true;
				return;
			}
			SnakePart head = snake.parts.get(0);
			if (head.x == stain.x && head.y == stain.y) {
                score += SCORE_INCREMENT;
                snake.eat();
                if (snake.parts.size() == WORLD_WIDTH * WORLD_HEIGHT) {
                    gameOver = true;
                    return;
                } else {
                    placeStain();
                }
                
                if (score % 50 == 0) {
                    tick -= TICK_DECREMENT;
                }
			}
		}*/
	}
}
